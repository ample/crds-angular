<div ng-if='invite.hasError()' class='alert alert-danger' role='alert'>
  <div ng-repeat="error in invite.errorMessages" ng-bind-html='error | html'></div>
</div>

<preloader full-screen='true' ng-show="!invite.viewReady"> </preloader>

<div class='col-sm-10 col-sm-offset-1'
			style="overflow-y: scroll; height:40em;"
			ng-if='invite.viewReady && !invite.hasError()'>
  <div>
    <h2 class='header noPspace'> Trip Private Invitations</h2>

    <div>{{ invite.selectionMessage }}</div>

		<form name="privateInviteForm" ng-submit="invite.save(this)" novalidate>

      <div class="form-group col-sm-6">
        <label class="control-label required" for="email">Email</label>
          <email-field
            email="invite.emailAddress"
            submitted="invite.processing"
            prefix="invite.emailPrefix"
            focused="false"
            validate-unique="false"
            check-unique="false"></email-field>
      </div>
      <div class="form-group col-sm-6" ng-class="{'has-error': invite.fieldError(privateInviteForm, 'recipientName')}">
        <label class="control-label required" for="recipientName">Recipient Name</label>
          <input
            type="text"
            class="form-control"
            name="recipientName"
            placeholder="Recipient Name"
            ng-model="invite.recipientName"
            required />
          <ng-messages for="privateInviteForm.recipientName.$error" ng-if="invite.fieldError(privateInviteForm, 'recipientName')">
            <span ng-message="required">
              <span ng-bind-html="$root.MESSAGES.fieldCanNotBeBlank.content | html"></span>
            </span>
          </ng-messages>
      </div>

	    <pre>Processing: {{ invite.processing }}</pre>
	    <pre>Form Valid: {{ privateInviteForm.$valid }}</pre>
      <div class="form-group">
	      <button class="btn btn-primary btn-sm" ng-click="invite.cancel()">Cancel</button>
				<button class="btn btn-primary btn-sm"
						ng-class="{disabled: invite.processing}"
						ng-click="invite.save()">
					<span ng-if="invite.processing">Saving...</span>
					<span ng-if="!invite.processing">Save</span>
				</button>
        <button type="submit" name="submit" id="submit" class="btn btn-primary push-half-bottom" >submit </button>
	    </div>
    </form>
  </div>
</div>
