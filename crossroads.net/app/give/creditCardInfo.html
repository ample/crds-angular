<section class="bank-section" ng-init="give.initCreditCardBankSection()">
    <div growl inline="true" reference="{{give.creditCardDiscouragedGrowlDivRef}}" limit-messages="1"></div>
    <div class="form-group" ng-class="{'has-error': giveForm.nameOnCard.$error.required && give.bankinfoSubmitted}">
        <label for="nameOnCard">Name On Card</label>
        <input type="text" name="nameOnCard" class="form-control" ng-model="give.nameOnCard" ng-required="true" ng-model-options="{ updateOn: 'blur', debounce: {'blur': 500} }">
        <ng-messages for="giveForm.nameOnCard.$error" ng-show="giveForm.nameOnCard.$error.required" ng-messages-include="on-blur-messages"></ng-messages>
            <ng-messages for="giveForm.nameOnCard.$error" ng-if="give.bankinfoSubmitted" ng-messages-include="on-submit-messages"></ng-messages>
    </div>
    <div class="form-group" ng-class="{'has-error': !give.ccValid && giveForm.ccNumber.$dirty ||giveForm.ccNumber.$error.required && give.bankinfoSubmitted }" validate-card ng-model="give" >
        <label for="ccNumber">Credit Card Number</label>
        <input type="text" name="ccNumber" class="form-control cc-icon" ng-class="give.ccNumberClass" ng-model="give.ccNumber" maxlength="16" ng-blur="give.ccCardType()" ng-required="true" ng-model-options="{ updateOn: 'blur', debounce: {'blur': 500} }" >
        <ng-messages for="giveForm.ccNumber.$error" ng-show="!give.ccValid && giveForm.ccNumber.$dirty ||giveForm.ccNumber.$error.required && give.bankinfoSubmitted" ng-messages-include="on-blur-messages"></ng-messages>
        <ng-messages for="giveForm.ccNumber.$error" ng-if="give.bankinfoSubmitted" ng-messages-include="on-submit-messages"></ng-messages>
    </div>
    <div class="row">
        <div class="form-group col-xs-4  col-md-3" ng-class="{'has-error': giveForm.expDate.$error.required && give.bankinfoSubmitted}">
            <label>Expiration</label>
            <input type="text" name="expDate" class="form-control" ng-model="give.expDate" ui-mask="99/99" placeholder="MM/YY" ng-required="true">
            <ng-messages for="giveForm.expDate.$error" ng-show="giveForm.expDate.$error.required" ng-messages-include="on-blur-messages"></ng-messages>
            <ng-messages for="giveForm.expDate.$error" ng-if="give.bankinfoSubmitted" ng-messages-include="on-submit-messages"></ng-messages>
        </div>
        <div class="form-group col-xs-4 col-md-2" ng-class="{'has-error': !give.cvvValid && giveForm.cvv.$dirty || giveForm.cvv.$error.required && give.bankinfoSubmitted}" validate-card ng-model="give">
            <label for="cvv">CVV</label>
            <input type="text" name="cvv" class="form-control" ng-model="give.cvv" maxlength="4" ng-model-options="{ updateOn: 'blur', debounce: {'blur': 500} }" ng-required="true" >
            <ng-messages for="give.cvvValid" ng-show="!give.cvvValid && giveForm.cvv.$dirty" ng-messages-include="on-blur-messages"></ng-messages>
            <ng-messages for="giveForm.cvv.$error" ng-if="give.bankinfoSubmitted" ng-messages-include="on-submit-messages"></ng-messages>
        </div>
        <div class="form-group col-xs-4 col-md-3"  ng-class="{'has-error': giveForm.billingZipCode.$error.invalidZip && giveForm.billingZipCode.$dirty || giveForm.billingZipCode.$error.required && give.bankinfoSubmitted}">
            <label for="billingZipCode">Zip Code</label>
            <input type="text" name="billingZipCode" class="form-control" ng-model="give.billingZipCode" maxlength="10" ng-model-options="{ updateOn: 'blur', debounce: {'blur': 500} }" invalid-zip ng-required="true">
            <ng-messages for="giveForm.billingZipCode.$error" ng-show="giveForm.billingZipCode.$error.invalidZip && giveForm.billingZipCode.$dirty" ng-messages-include="on-blur-messages"></ng-messages>
            <ng-messages for="giveForm.billingZipCode.$error" ng-if="give.bankinfoSubmitted" ng-messages-include="on-submit-messages"></ng-messages>
        </div>
    </div>
</section>
