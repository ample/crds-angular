USE [MinistryPlatform]
GO

declare @ToolName varchar(30) = 'KC Applicant Form'
declare @LaunchPage varchar(100) = 'http://int.crossroads.net/#/mptools/kcapplicant'
declare @Description varchar(50) = 'Fill out the KC Application for a user'

declare @ToolNameDev varchar(30) = 'KC Applicant Form - Development'
declare @LaunchPageDev varchar(100) = 'http://localhost:8080/#/mptools/kcapplicant'
declare @DescriptionDev varchar(50) = 'Development KC Applicant Form'

IF EXISTS 
  (
  SELECT 1 
  FROM [dbo].[dp_Tools]
  WHERE [dbo].[dp_Tools].[Tool_Name] = @ToolName
  )
  BEGIN
    UPDATE [dbo].[dp_Tools]
    SET  [Description] = @Description
      ,[Launch_Page] = @LaunchPage
    WHERE [Tool_Name] = @ToolName
  END
ELSE
  BEGIN
    INSERT INTO [dbo].[dp_Tools]
         ([Tool_Name]
         ,[Description]
         ,[Launch_Page])
     VALUES
         (@ToolName
         ,@Description
         ,@LaunchPage)
  END

IF EXISTS (
  SELECT 1 
  FROM [dbo].[dp_Tools]
  WHERE [dbo].[dp_Tools].[Tool_Name] = @ToolNameDev
  )
BEGIN
  UPDATE [dbo].[dp_Tools]
  SET  [Description] = @DescriptionDev
    ,[Launch_Page] = @LaunchPageDev
  WHERE [Tool_Name] = @ToolNameDev
END
ELSE
BEGIN
  INSERT INTO [dbo].[dp_Tools]
           ([Tool_Name]
           ,[Description]
           ,[Launch_Page])
     VALUES
           (@ToolNameDev
           ,@DescriptionDev
           ,@LaunchPageDev)
END

GO
